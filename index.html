<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>react</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
/* Pokémon silhouette effect */
.pokemon-silhouette {
  filter: brightness(0) opacity(0.85);
  transition: filter 0.5s ease;
}
.pokemon-revealed {
  filter: brightness(1) opacity(1);
}

/* Animations */
@keyframes shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-5px); }
  75% { transform: translateX(5px); }
}
@keyframes bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.shake {
  animation: shake 0.5s ease-in-out;
}
.bounce {
  animation: bounce 0.6s ease-in-out;
}
.fade-in {
  animation: fadeIn 0.5s ease-out forwards;
}

/* Option buttons */
.option-btn {
  background-color: #f3f4f6; /* gray-100 */
  color: #1f2937; /* gray-800 */
  font-weight: 500;
  padding: 0.75rem 1rem;
  border-radius: 0.5rem;
  transition: all 0.2s;
  border: none;
  cursor: pointer;
  font-size: 1rem;
  width: 100%;
}
.option-btn:hover:not(:disabled) {
  background-color: #e0e7ff; /* indigo-100 */
  transform: scale(1.02);
}
.option-btn:active:not(:disabled) {
  transform: scale(0.98);
}
.option-btn.correct {
  background-color: #10b981; /* green-500 */
  color: white;
}
.option-btn.wrong {
  background-color: #ef4444; /* red-500 */
  color: white;
}
.option-btn:disabled {
  opacity: 0.7;
  cursor: not-allowed;
  transform: none !important;
}

/* Dark mode adjustments for buttons */
@media (prefers-color-scheme: dark) {
  .option-btn {
    background-color: #374151; /* gray-700 */
    color: #f3f4f6; /* gray-100 */
  }
  .option-btn:hover:not(:disabled) {
    background-color: #312e81; /* indigo-900 */
  }
}

/* Feedback */
#feedback.correct {
  background-color: #d1fae5; /* green-100 */
  color: #065f46; /* green-800 */
}
#feedback.wrong {
  background-color: #fee2e2; /* red-100 */
  color: #991b1b; /* red-800 */
}

/* Dark mode feedback */
@media (prefers-color-scheme: dark) {
  #feedback.correct {
    background-color: #064e3b; /* green-900 */
    color: #d1fae5; /* green-100 */
  }
  #feedback.wrong {
    background-color: #7f1d1d; /* red-900 */
    color: #fee2e2; /* red-100 */
  }
}
    </style>
</head>
<body>
<div class='min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 flex flex-col items-center justify-center p-4'>
  <header class='w-full max-w-2xl mb-6'>
    <h1 class='text-3xl md:text-4xl font-bold text-center text-indigo-600 dark:text-indigo-400 mb-2'>Pokémon Quiz</h1>
    <div class='flex justify-between items-center bg-white dark:bg-gray-800 rounded-lg shadow-md p-4'>
      <div class='text-lg font-semibold text-gray-700 dark:text-gray-300'>Score: <span id='score' class='text-indigo-600 dark:text-indigo-400'>0</span></div>
      <div class='text-lg font-semibold text-gray-700 dark:text-gray-300'>Questions: <span id='question-count' class='text-indigo-600 dark:text-indigo-400'>0</span></div>
    </div>
  </header>

  <main class='w-full max-w-2xl'>
    <div id='game-container' class='bg-white dark:bg-gray-800 rounded-xl shadow-xl p-6 md:p-8'>
      <div class='flex flex-col items-center mb-8'>
        <div class='relative w-48 h-48 md:w-64 md:h-64 mb-4 flex items-center justify-center'>
          <img id='pokemon-image' class='w-full h-full object-contain pokemon-silhouette transition-all duration-500' alt='Pokémon silhouette' />
        </div>
        <p id='question-text' class='text-xl font-medium text-gray-700 dark:text-gray-300 text-center'>Who's that Pokémon?</p>
      </div>

      <div id='options-container' class='grid grid-cols-1 md:grid-cols-2 gap-4 mb-6'>
        <!-- Options will be inserted by JavaScript -->
      </div>

      <div id='feedback' class='hidden text-center p-4 rounded-lg mb-4 font-semibold'></div>

      <div class='text-center'>
        <button id='next-btn' class='hidden bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-full transition-colors duration-200 shadow-lg transform hover:scale-105 active:scale-95'>
          Next Pokémon
        </button>
      </div>
    </div>
  </main>

  <footer class='mt-8 text-center text-gray-600 dark:text-gray-400 text-sm'>
    <p>Data provided by <a href='https://pokeapi.co/' target='_blank' class='text-indigo-600 hover:underline'>PokéAPI</a></p>
  </footer>
</div>
    <script>
let pokemonList = [];
let score = 0;
let questionCount = 0;
let currentCorrect = null;
let currentOptions = [];

const scoreEl = document.getElementById('score');
const questionCountEl = document.getElementById('question-count');
const pokemonImageEl = document.getElementById('pokemon-image');
const optionsContainer = document.getElementById('options-container');
const feedbackEl = document.getElementById('feedback');
const nextBtn = document.getElementById('next-btn');

document.addEventListener('DOMContentLoaded', async () => {
  await fetchPokemonList();
  startGame();
});

async function fetchPokemonList() {
  try {
    const response = await fetch('https://pokeapi.co/api/v2/pokemon?limit=10000');
    const data = await response.json();
    pokemonList = data.results.map(pokemon => {
      const id = parseInt(pokemon.url.split('/').filter(Boolean).pop());
      return { id, name: pokemon.name };
    });
  } catch (error) {
    console.error('Failed to fetch Pokémon list:', error);
    alert('Failed to load Pokémon data. Please refresh the page.');
  }
}

function startGame() {
  score = 0;
  questionCount = 0;
  updateScoreDisplay();
  loadQuestion();
}

function updateScoreDisplay() {
  scoreEl.textContent = score;
  questionCountEl.textContent = questionCount;
}

function getRandomPokemon() {
  const randomIndex = Math.floor(Math.random() * pokemonList.length);
  return pokemonList[randomIndex];
}

function getRandomWrongOptions(correctPokemon, count = 3) {
  const wrongOptions = [];
  const used = new Set([correctPokemon.name]);
  while (wrongOptions.length < count) {
    const random = getRandomPokemon();
    if (!used.has(random.name)) {
      wrongOptions.push(random.name);
      used.add(random.name);
    }
  }
  return wrongOptions;
}

function shuffleArray(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

async function loadQuestion() {
  feedbackEl.classList.add('hidden');
  nextBtn.classList.add('hidden');
  pokemonImageEl.classList.remove('pokemon-revealed');
  pokemonImageEl.classList.add('pokemon-silhouette');

  optionsContainer.innerHTML = '';

  questionCount++;
  updateScoreDisplay();

  const correctPokemon = getRandomPokemon();
  currentCorrect = correctPokemon.name;

  const wrongOptions = getRandomWrongOptions(correctPokemon, 3);
  const allOptions = shuffleArray([correctPokemon.name, ...wrongOptions]);
  currentOptions = allOptions;

  const imageUrl = `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/${correctPokemon.id}.png`;
  pokemonImageEl.src = imageUrl;
  pokemonImageEl.alt = `Silhouette of ${correctPokemon.name}`;

  allOptions.forEach(option => {
    const button = document.createElement('button');
    button.className = 'option-btn fade-in';
    button.textContent = formatPokemonName(option);
    button.addEventListener('click', () => handleAnswer(option, button));
    optionsContainer.appendChild(button);
  });
}

function formatPokemonName(name) {
  return name.charAt(0).toUpperCase() + name.slice(1).replace(/-/g, ' ');
}

function handleAnswer(selectedName, buttonElement) {
  const buttons = optionsContainer.querySelectorAll('.option-btn');
  buttons.forEach(btn => btn.disabled = true);

  const isCorrect = selectedName === currentCorrect;
  if (isCorrect) {
    score++;
    updateScoreDisplay();
    buttonElement.classList.add('correct');
    pokemonImageEl.classList.add('bounce');
    showFeedback(true, 'Correct!');
  } else {
    buttonElement.classList.add('wrong');
    buttons.forEach(btn => {
      if (btn.textContent.toLowerCase() === formatPokemonName(currentCorrect).toLowerCase()) {
        btn.classList.add('correct');
      }
    });
    buttonElement.classList.add('shake');
    showFeedback(false, `Wrong! It's ${formatPokemonName(currentCorrect)}`);
  }

  pokemonImageEl.classList.remove('pokemon-silhouette');
  pokemonImageEl.classList.add('pokemon-revealed');

  setTimeout(() => {
    nextBtn.classList.remove('hidden');
    pokemonImageEl.classList.remove('bounce', 'shake');
  }, 1000);
}

function showFeedback(isCorrect, message) {
  feedbackEl.textContent = message;
  feedbackEl.className = 'text-center p-4 rounded-lg mb-4 font-semibold fade-in';
  if (isCorrect) {
    feedbackEl.classList.add('correct');
  } else {
    feedbackEl.classList.add('wrong');
  }
  feedbackEl.classList.remove('hidden');
}

nextBtn.addEventListener('click', loadQuestion);
    </script>
</body>
</html>